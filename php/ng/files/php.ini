{%- macro php_block(config) %}
    {% for sections in config %}
        {%- for section, settings in sections.items() -%}
            {%- if settings is number or settings is string %}
{{ section }} = {{ settings }}
            {%- else %}
[{{ section }}]
                {%- for setting in settings -%}
                    {%- for key, value in setting.items() %}
                        {%- if value is number or value is string %}
    {{ key }} = {{ value }}
                        {%- elif value is iterable -%}
                            {%- if key == 'error_reporting' %}
    {{ key }} = {{ value|join(" & ") }}
                            {%- elif key == 'extension' %}
    {{ key }} = {{ value|join("\n    extension = ") }}
                            {%- else %}
    {{ key }} = {{ value|join(",") }}
                            {%- endif -%}
                        {%- endif -%}
                    {%- endfor -%}
                {%- endfor -%}
            {%- endif -%}
        {%- endfor -%}
    {% endfor %}
{%- endmacro -%}

; PHP configuration file.
;
; **** DO NOT EDIT THIS FILE ****
;
; This file is managed by Salt via {{ source }}
{{ php_block(config) }}
